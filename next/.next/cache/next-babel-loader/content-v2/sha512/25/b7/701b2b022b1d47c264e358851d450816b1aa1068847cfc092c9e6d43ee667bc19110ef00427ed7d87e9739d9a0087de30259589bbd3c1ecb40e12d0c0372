{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/pc/Desktop/\\uD559\\uC5B8/WAKAUT/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/pc/Desktop/\\uD559\\uC5B8/WAKAUT/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\\\uD559\\uC5B8\\\\WAKAUT\\\\next\\\\pages\\\\board\\\\boardview.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Container, Form, Button } from \"react-bootstrap\";\nimport List from \"../../components/list\";\nimport Link from \"next/link\";\nimport { useState } from 'react';\nimport WriteModal from \"./write_modal\";\nimport Mgmodal from \"../../components/mgmodal\";\nimport getLayout from '../../components/layouts/getLayout';\nimport { Post } from '../feutils';\nvar title = '';\nvar contents = ''; //데이터 끌고오기!\n\n//데이터 등록하기\nexport var __N_SSP = true;\nexport function write(_x, _x2, _x3) {\n  return _write.apply(this, arguments);\n}\n\nfunction _write() {\n  _write = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e, bid, _ref) {\n    var title, userid, comment;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            title = _ref.title, userid = _ref.userid, comment = _ref.comment;\n            e.preventDefault();\n            location.href = \"http://localhost:3000/board/boardview?bid=\".concat(bid);\n            Post({\n              title: title,\n              userid: userid,\n              comment: comment\n            }, '/board/write');\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _write.apply(this, arguments);\n}\n\nvar Boardview = function Boardview(_ref2) {\n  _s();\n\n  var boards = _ref2.boards;\n\n  var _useState = useState(false),\n      lgShow = _useState[0],\n      setLgShow = _useState[1];\n\n  var _useState2 = useState(false),\n      mgShow = _useState2[0],\n      setMgShow = _useState2[1];\n\n  var bd = boards[0];\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"brdview\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, __jsx(\"header\", {\n    className: \"bg-secondary pt-5 pb-4 brdview\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }), __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, __jsx(List, {\n    title: bd.title,\n    kd: bd.category,\n    time: bd.regdate2,\n    view: bd.views + 1,\n    name: bd.name,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }))), __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    className: \"viewnote\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, bd.content), __jsx(\"div\", {\n    className: \"replay p-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, boards[0].com.map(function (m, idx) {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"txtLft d-flex\",\n      key: idx,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 34\n      }\n    }, __jsx(\"h5\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 37\n      }\n    }, m.name), __jsx(\"p\", {\n      className: \"ms-5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 37\n      }\n    }, m.comment, \" \", __jsx(\"small\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 69\n      }\n    }, m.regdate2))));\n  }), __jsx(Form, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"reTxt d-flex align-items-end mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, __jsx(Form.Control, {\n    as: \"textarea\",\n    placeholder: \"\\uB313\\uAE00\\uC740 \\uD55C\\uBC88 \\uB2EC\\uBA74 \\uC0AD\\uC81C\\uAC00 \\uBD88\\uAC00\\uB2A5\\uD558\\uB2F5\\uB2C8\\uB2F9 \\uD83D\\uDC6E\\u200D\\u2642\\uFE0F\\uD83D\\uDC6E\\u200D\\u2640\\uFE0F \",\n    style: {\n      height: '80px',\n      width: '90%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }), __jsx(\"button\", {\n    className: \"btn btn-success ms-3\",\n    type: \"submit\",\n    onClick: function onClick(e) {\n      write(e, bid, {\n        title: title,\n        userid: userid,\n        comment: comment\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, \"\\uB313\\uAE00 \\uB4F1\\uB85D\")))), __jsx(\"div\", {\n    className: \"btns mt-4 mb-4 d-flex  justify-content-end\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    className: \"ms-2\",\n    variant: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, __jsx(Link, {\n    href: \"/board/boardlist\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 64\n    }\n  }, \"\\uBAA9\\uB85D\\uC73C\\uB85C\")), __jsx(Button, {\n    className: \"ms-2\",\n    variant: \"success\",\n    onClick: function onClick() {\n      setLgShow(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, \"\\uC218\\uC815\\uD558\\uAE30\"), __jsx(Button, {\n    className: \"ms-2\",\n    variant: \"secondary\",\n    onClick: function onClick() {\n      setMgShow(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, \"\\uC0AD\\uC81C\\uD558\\uAE30\"), __jsx(Button, {\n    className: \"ms-2\",\n    variant: \"danger\",\n    onClick: function onClick() {\n      setMgShow(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, \"\\uAC15\\uC81C\\uC0AD\\uC81C\")), __jsx(Mgmodal, {\n    LgShow: mgShow,\n    setLgShow: setMgShow,\n    title: \"\\uAC8C\\uC2DC\\uAE00 \\uC0AD\\uC81C\",\n    msg: \"\\uC815\\uB9D0 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), __jsx(WriteModal, {\n    title: boards[0].title,\n    note: boards[0].content,\n    setLgShow: setLgShow,\n    lgShow: lgShow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }\n  })));\n};\n\n_s(Boardview, \"4Em6lqPZbSqNTyWR95jKyY4ltJg=\");\n\n_c = Boardview;\ngetLayout(Boardview, {\n  title: title,\n  description: contents\n});\nexport default Boardview;\n\nvar _c;\n\n$RefreshReg$(_c, \"Boardview\");","map":{"version":3,"sources":["C:/Users/pc/Desktop/학언/WAKAUT/next/pages/board/boardview.js"],"names":["Container","Form","Button","List","Link","useState","WriteModal","Mgmodal","getLayout","Post","title","contents","write","e","bid","userid","comment","preventDefault","location","href","Boardview","boards","lgShow","setLgShow","mgShow","setMgShow","bd","category","regdate2","views","name","content","com","map","m","idx","height","width","description"],"mappings":"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","sourcesContent":["import { Container,Form,Button } from \"react-bootstrap\";\r\nimport List from \"../../components/list\";\r\nimport Link from \"next/link\";\r\nimport {useState} from 'react';\r\nimport WriteModal from \"./write_modal\";\r\nimport Mgmodal from \"../../components/mgmodal\";\r\nimport getLayout from '../../components/layouts/getLayout';\r\nimport {Datas,Post} from '../feutils';\r\nlet title='';\r\nlet contents ='';\r\n\r\n\r\n//데이터 끌고오기!\r\nexport async function getServerSideProps(ctx){\r\n    let boards = await Datas(`/board/boardview?bid=${ctx.query.bid}`);\r\n    console.log(boards);\r\n    return{props:{boards}};\r\n}\r\n\r\n//데이터 등록하기\r\nexport async function write(e,bid,{title,userid,comment}){\r\n    e.preventDefault();\r\n    location.href=`http://localhost:3000/board/boardview?bid=${bid}`;\r\n    Post({title:title,userid:userid,comment:comment},'/board/write');\r\n}\r\n\r\nconst Boardview=({boards})=>{\r\n    const [lgShow, setLgShow] = useState(false);\r\n    const [mgShow, setMgShow] = useState(false);\r\n    let bd = boards[0];\r\n\r\n    return (\r\n        <>\r\n            <div className=\"brdview\">\r\n                <header className=\"bg-secondary pt-5 pb-4 brdview\">\r\n                </header>\r\n                <Container>\r\n                    <List title={bd.title} kd={bd.category} time={bd.regdate2} view={bd.views+1} name={bd.name}/>\r\n                </Container>\r\n            </div>\r\n            \r\n            <Container>\r\n                <p className=\"viewnote\">{bd.content}</p>\r\n                <div className=\"replay p-5\">\r\n                    {\r\n                        boards[0].com.map((m,idx)=>{\r\n                            return(\r\n                                <>\r\n                                 <div className=\"txtLft d-flex\" key={idx}>\r\n                                    <h5>{m.name}</h5>\r\n                                    <p className=\"ms-5\">{m.comment} <small>{m.regdate2}</small></p>\r\n                                 </div>\r\n                                </>\r\n                           )\r\n                        })\r\n                    }\r\n                <Form>\r\n                    <div className=\"reTxt d-flex align-items-end mt-4\"> \r\n                        <Form.Control as=\"textarea\" placeholder=\"댓글은 한번 달면 삭제가 불가능하답니당 👮‍♂️👮‍♀️ \" style={{ height: '80px' ,width:'90%' }} />\r\n                        <button className=\"btn btn-success ms-3\" type=\"submit\" onClick={(e)=>{ write(e,bid,{title,userid,comment})}}>댓글 등록</button>\r\n                    </div>\r\n                </Form>\r\n                </div>\r\n                <div className=\"btns mt-4 mb-4 d-flex  justify-content-end\">\r\n                    \r\n                    <Button className=\"ms-2\" variant=\"primary\"><Link href=\"/board/boardlist\">목록으로</Link></Button>\r\n                    <Button className=\"ms-2\" variant=\"success\" onClick={()=>{setLgShow(true)}}>수정하기</Button>\r\n                    <Button className=\"ms-2\" variant=\"secondary\" onClick={()=>{setMgShow(true)}}>삭제하기</Button>\r\n                    <Button className=\"ms-2\" variant=\"danger\" onClick={()=>{setMgShow(true)}}>강제삭제</Button>\r\n                </div>\r\n                <Mgmodal LgShow={mgShow} setLgShow={setMgShow} title=\"게시글 삭제\" msg=\"정말 삭제하시겠습니까?\"/>\r\n               <WriteModal title={boards[0].title} note={boards[0].content} setLgShow={setLgShow} lgShow={lgShow}/>\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n\r\n    getLayout(Boardview,{title:title,description:contents});\r\n\r\nexport default Boardview;\r\n"]},"metadata":{},"sourceType":"module"}