{"ast":null,"code":"const SQL = {\n  board: {\n    select: `select b.* , date_format(b.regdate,'%Y-%m-%d') regdate2, u.name ,CAST(count(c.cid) AS char) cmtcnt from (boards b, users u) left join comments c on b.bid = c.bid where u.uid = b.writer `,\n    select2: ` group by b.bid order by b.bid desc limit 0, ?`,\n    selectOne: `select  b.*,date_format(regdate, \"%Y-%m-%d\") regdate2, u.name  from boards b left join users u on u.uid = b.writer where bid=?`,\n    updateView: `update boards set views = views+1  where bid=?`,\n    comments: `select c.*,date_format(c.regdate, \"%Y-%m-%d\") regdate2,u.name  from comments c left join users u on c.userid = u.uid  where c.bid =?`,\n    insertCmt: `insert into comments (bid,userid,comment) values(?,?,?)`,\n    insert: `insert into boards (title,writer,content,views,category,facility_name) values(?,?,?,0,?,?)`,\n    update: `update boards set title=?,content=?,category=?,facility_name=? WHERE bid = ?`,\n    deleteCmt: `delete from comments where cid=?`,\n    deleteCmt2: `delete from comments where bid=?`,\n    delete: `delete from boards where bid=?`,\n    selectId: `select uid from users where userid = ?`\n  },\n  admin: {\n    selectUsers: `select u.*, date_format(u.birth_date,'%Y-%m-%d') birth_date2 from users u`\n  },\n  user: {\n    login: `select u.*, date_format(u.birth_date,'%Y-%m-%d') birth_date2 from users u where u.userid=? && u.passwd=?`\n  },\n  member: {\n    insertFvr: `insert into favorites (userid, facility, region, contact) values (?, ?, ?, ?)`,\n    selectFvr: `select fid, facility, region, contact from favorites where userid = ?`,\n    deleteFvr: `DELETE FROM favorites WHERE fid = ?`,\n    selectMif: `select userid, name, email, phone_number, gender, date_format(birth_date, \"%Y-%m-%d\") birth_date from users where uid = ? or userid = ?`,\n    selectMdf: `SELECT *, DATE_FORMAT(birth_date, '%Y-%m-%d') as birth_date2 FROM users where uid = ? or userid = ?`,\n    history: `SELECT count(bid) cnt from boards where writer = ?`,\n    isOverlapUid: `select * from users where userid = ?`,\n    isOverlapEmail: `select * from users where email = ?`,\n    updateInfo: `UPDATE users\n                      SET userid = ?, passwd = ?, name = ?,\n                          email = ?, phone_number = ?, gender = ?,\n                          birth_date = ?, agree_to_privacy_policy = ?,\n                          agree_to_advertising_info = ?\n                      WHERE uid = ?`,\n    join: `insert into users (\n            userid, passwd, name, email, phone_number, gender, birth_date, agree_to_privacy_policy, agree_to_advertising_info\n        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n    socialJoin: `insert into users ( userid, passwd, name, email, phone_number, gender, birth_date, agree_to_privacy_policy, agree_to_advertising_info) values (?, 'nopasswd', ?, ?, '000', 'n', '0000-00-00', 1, 1)\n        `,\n    idcheck: `select * from users where userid=?`,\n    leave: `DELETE FROM users WHERE uid = ?`,\n    leaveDelete: `DELETE FROM boards WHERE writer = ?`,\n    setScore: `insert into ratings (facility,rating) values (?,?)`,\n    getScore: `select CAST(count(r.rid) AS char) cnt, CAST(avg(r.rating) AS char) score from ratings r where facility = ?`\n  }\n};\nexport default SQL;","map":{"version":3,"sources":["C:/Users/pc/Desktop/학언/WAKAUT/next/models/SQLs.js"],"names":["SQL","board","select","select2","selectOne","updateView","comments","insertCmt","insert","update","deleteCmt","deleteCmt2","delete","selectId","admin","selectUsers","user","login","member","insertFvr","selectFvr","deleteFvr","selectMif","selectMdf","history","isOverlapUid","isOverlapEmail","updateInfo","join","socialJoin","idcheck","leave","leaveDelete","setScore","getScore"],"mappings":"AAAA,MAAMA,GAAG,GAAC;AACNC,EAAAA,KAAK,EAAG;AACJC,IAAAA,MAAM,EAAI,2LADN;AAEJC,IAAAA,OAAO,EAAI,gDAFP;AAGJC,IAAAA,SAAS,EAAE,gIAHP;AAIJC,IAAAA,UAAU,EAAE,gDAJR;AAKJC,IAAAA,QAAQ,EAAI,sIALR;AAMJC,IAAAA,SAAS,EAAI,yDANT;AAOJC,IAAAA,MAAM,EAAI,4FAPN;AAQJC,IAAAA,MAAM,EAAG,8EARL;AASJC,IAAAA,SAAS,EAAE,kCATP;AAUJC,IAAAA,UAAU,EAAE,kCAVR;AAWJC,IAAAA,MAAM,EAAE,gCAXJ;AAYJC,IAAAA,QAAQ,EAAE;AAZN,GADF;AAeNC,EAAAA,KAAK,EAAG;AACJC,IAAAA,WAAW,EAAI;AADX,GAfF;AAkBNC,EAAAA,IAAI,EAAC;AACDC,IAAAA,KAAK,EAAG;AADP,GAlBC;AAqBNC,EAAAA,MAAM,EAAG;AACLC,IAAAA,SAAS,EAAI,+EADR;AAELC,IAAAA,SAAS,EAAI,uEAFR;AAGLC,IAAAA,SAAS,EAAI,qCAHR;AAILC,IAAAA,SAAS,EAAI,yIAJR;AAKLC,IAAAA,SAAS,EAAI,qGALR;AAMLC,IAAAA,OAAO,EAAI,oDANN;AAOLC,IAAAA,YAAY,EAAI,sCAPX;AAQLC,IAAAA,cAAc,EAAI,qCARb;AASLC,IAAAA,UAAU,EAAI;AACtB;AACA;AACA;AACA;AACA,oCAda;AAeLC,IAAAA,IAAI,EAAI;AAChB;AACA,6CAjBa;AAkBLC,IAAAA,UAAU,EAAE;AACpB,SAnBa;AAoBLC,IAAAA,OAAO,EAAE,oCApBJ;AAqBLC,IAAAA,KAAK,EAAG,iCArBH;AAsBLC,IAAAA,WAAW,EAAG,qCAtBT;AAuBLC,IAAAA,QAAQ,EAAI,oDAvBP;AAwBLC,IAAAA,QAAQ,EAAI;AAxBP;AArBH,CAAV;AAiDA,eAAelC,GAAf","sourcesContent":["const SQL={\r\n    board : {\r\n        select : `select b.* , date_format(b.regdate,'%Y-%m-%d') regdate2, u.name ,CAST(count(c.cid) AS char) cmtcnt from (boards b, users u) left join comments c on b.bid = c.bid where u.uid = b.writer `,\r\n        select2 : ` group by b.bid order by b.bid desc limit 0, ?`,\r\n        selectOne:`select  b.*,date_format(regdate, \"%Y-%m-%d\") regdate2, u.name  from boards b left join users u on u.uid = b.writer where bid=?`,\r\n        updateView:`update boards set views = views+1  where bid=?`,\r\n        comments : `select c.*,date_format(c.regdate, \"%Y-%m-%d\") regdate2,u.name  from comments c left join users u on c.userid = u.uid  where c.bid =?`,\r\n        insertCmt : `insert into comments (bid,userid,comment) values(?,?,?)`,\r\n        insert : `insert into boards (title,writer,content,views,category,facility_name) values(?,?,?,0,?,?)`,\r\n        update :`update boards set title=?,content=?,category=?,facility_name=? WHERE bid = ?`,\r\n        deleteCmt:`delete from comments where cid=?`,\r\n        deleteCmt2:`delete from comments where bid=?`,\r\n        delete:`delete from boards where bid=?`,\r\n        selectId:`select uid from users where userid = ?`\r\n    },\r\n    admin : {\r\n        selectUsers : `select u.*, date_format(u.birth_date,'%Y-%m-%d') birth_date2 from users u`,\r\n    },\r\n    user:{\r\n        login :`select u.*, date_format(u.birth_date,'%Y-%m-%d') birth_date2 from users u where u.userid=? && u.passwd=?`\r\n    },\r\n    member : {\r\n        insertFvr : `insert into favorites (userid, facility, region, contact) values (?, ?, ?, ?)`,\r\n        selectFvr : `select fid, facility, region, contact from favorites where userid = ?`,\r\n        deleteFvr : `DELETE FROM favorites WHERE fid = ?`,\r\n        selectMif : `select userid, name, email, phone_number, gender, date_format(birth_date, \"%Y-%m-%d\") birth_date from users where uid = ? or userid = ?`,\r\n        selectMdf : `SELECT *, DATE_FORMAT(birth_date, '%Y-%m-%d') as birth_date2 FROM users where uid = ? or userid = ?`,\r\n        history : `SELECT count(bid) cnt from boards where writer = ?`,\r\n        isOverlapUid : `select * from users where userid = ?`,\r\n        isOverlapEmail : `select * from users where email = ?`,\r\n        updateInfo : `UPDATE users\r\n                      SET userid = ?, passwd = ?, name = ?,\r\n                          email = ?, phone_number = ?, gender = ?,\r\n                          birth_date = ?, agree_to_privacy_policy = ?,\r\n                          agree_to_advertising_info = ?\r\n                      WHERE uid = ?`,\r\n        join : `insert into users (\r\n            userid, passwd, name, email, phone_number, gender, birth_date, agree_to_privacy_policy, agree_to_advertising_info\r\n        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?)`,\r\n        socialJoin:`insert into users ( userid, passwd, name, email, phone_number, gender, birth_date, agree_to_privacy_policy, agree_to_advertising_info) values (?, 'nopasswd', ?, ?, '000', 'n', '0000-00-00', 1, 1)\r\n        `,\r\n        idcheck:`select * from users where userid=?`,\r\n        leave: `DELETE FROM users WHERE uid = ?`,\r\n        leaveDelete: `DELETE FROM boards WHERE writer = ?`,\r\n        setScore : `insert into ratings (facility,rating) values (?,?)`,\r\n        getScore : `select CAST(count(r.rid) AS char) cnt, CAST(avg(r.rating) AS char) score from ratings r where facility = ?`\r\n    },\r\n}\r\n\r\nexport default SQL;"]},"metadata":{},"sourceType":"module"}