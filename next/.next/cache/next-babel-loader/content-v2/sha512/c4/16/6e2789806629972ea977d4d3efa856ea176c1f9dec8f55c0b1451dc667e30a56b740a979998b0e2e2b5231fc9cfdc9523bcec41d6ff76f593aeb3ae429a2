{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Container, Form, Button } from \"react-bootstrap\";\nimport List from \"../../components/list\";\nimport Link from \"next/link\";\nimport { useState } from 'react';\nimport WriteModal from \"./write_modal\";\nimport Mgmodal from \"../../components/mgmodal\";\nimport getLayout from '../../components/layouts/getLayout';\nimport { Datas, Post, handleInput } from '../feutils';\nlet title = '';\nlet contents = ''; //데이터 끌고오기!\n\nexport async function getServerSideProps(ctx) {\n  let boards = await Datas(`/board/boardview?bid=${ctx.query.bid}`);\n  return {\n    props: {\n      boards\n    }\n  };\n} //데이터 등록하기\n\nexport async function write(e, {\n  bid,\n  userid,\n  comment\n}) {\n  e.preventDefault();\n  console.log(bid, userid, comment);\n  Post({\n    bid: bid,\n    userid: userid,\n    comment: comment\n  }, '/board/repwrite');\n  location.href = `http://localhost:3000/board/boardview?bid=${bid}`;\n}\n\nconst Boardview = ({\n  boards\n}) => {\n  const {\n    0: lgShow,\n    1: setLgShow\n  } = useState(false);\n  const {\n    0: mgShow,\n    1: setMgShow\n  } = useState(false);\n  const {\n    0: reply,\n    1: setReply\n  } = useState();\n  let bd = boards[0];\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"brdview\"\n  }, __jsx(\"header\", {\n    className: \"bg-secondary pt-5 pb-4 brdview\"\n  }), __jsx(Container, null, __jsx(List, {\n    title: bd.title,\n    kd: bd.category,\n    time: bd.regdate2,\n    view: bd.views + 1,\n    name: bd.name\n  }))), __jsx(Container, null, __jsx(\"p\", {\n    className: \"viewnote\"\n  }, bd.content), __jsx(\"div\", {\n    className: \"replay p-5\"\n  }, bd.com.map((m, idx) => {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"txtLft d-flex\",\n      key: idx\n    }, __jsx(\"h5\", null, m.name), __jsx(\"p\", {\n      className: \"ms-5\"\n    }, m.comment, \" \", __jsx(\"small\", null, m.regdate2))));\n  }), __jsx(Form, null, __jsx(\"div\", {\n    className: \"reTxt d-flex align-items-end mt-4\"\n  }, __jsx(Form.Control, {\n    as: \"textarea\",\n    placeholder: \"\\uB313\\uAE00\\uC740 \\uD55C\\uBC88 \\uB2EC\\uBA74 \\uC0AD\\uC81C\\uAC00 \\uBD88\\uAC00\\uB2A5\\uD558\\uB2F5\\uB2C8\\uB2F9 \\uD83D\\uDC6E\\u200D\\u2642\\uFE0F\\uD83D\\uDC6E\\u200D\\u2640\\uFE0F \",\n    style: {\n      height: '80px',\n      width: '90%'\n    },\n    onChange: e => {\n      handleInput(setReply, e);\n    }\n  }), __jsx(\"button\", {\n    className: \"btn btn-success ms-3\",\n    type: \"submit\",\n    onClick: e => {\n      write(e, {\n        bid: bd.bid,\n        userid: 2,\n        comment: reply\n      });\n    }\n  }, \"\\uB313\\uAE00 \\uB4F1\\uB85D\")))), __jsx(\"div\", {\n    className: \"btns mt-4 mb-4 d-flex  justify-content-end\"\n  }, __jsx(Button, {\n    className: \"ms-2\",\n    variant: \"primary\"\n  }, __jsx(Link, {\n    href: \"/board/boardlist\"\n  }, \"\\uBAA9\\uB85D\\uC73C\\uB85C\")), __jsx(Button, {\n    className: \"ms-2\",\n    variant: \"success\",\n    onClick: () => {\n      setLgShow(true);\n    }\n  }, \"\\uC218\\uC815\\uD558\\uAE30\"), __jsx(Button, {\n    className: \"ms-2\",\n    variant: \"secondary\",\n    onClick: () => {\n      setMgShow(true);\n    }\n  }, \"\\uC0AD\\uC81C\\uD558\\uAE30\"), __jsx(Button, {\n    className: \"ms-2\",\n    variant: \"danger\",\n    onClick: () => {\n      setMgShow(true);\n    }\n  }, \"\\uAC15\\uC81C\\uC0AD\\uC81C\")), __jsx(Mgmodal, {\n    LgShow: mgShow,\n    setLgShow: setMgShow,\n    title: \"\\uAC8C\\uC2DC\\uAE00 \\uC0AD\\uC81C\",\n    msg: \"\\uC815\\uB9D0 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"\n  }), __jsx(WriteModal, {\n    title: boards[0].title,\n    note: boards[0].content,\n    setLgShow: setLgShow,\n    lgShow: lgShow\n  })));\n};\n\ngetLayout(Boardview, {\n  title: title,\n  description: contents\n});\nexport default Boardview;","map":null,"metadata":{},"sourceType":"module"}