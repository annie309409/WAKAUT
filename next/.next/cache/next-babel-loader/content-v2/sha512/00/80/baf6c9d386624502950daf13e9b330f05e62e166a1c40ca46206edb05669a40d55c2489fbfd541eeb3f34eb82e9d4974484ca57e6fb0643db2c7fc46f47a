{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/fullstack/Desktop/TeamWorks/WAKAUT/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/fullstack/Desktop/TeamWorks/WAKAUT/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\fullstack\\\\Desktop\\\\TeamWorks\\\\WAKAUT\\\\next\\\\pages\\\\board\\\\write_modal.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Modal from '../../components/modal';\nimport { Form, FloatingLabel, Button } from 'react-bootstrap';\nimport Selection from '../../components/selection';\nimport { Post, handleInput } from '../feutils';\nimport { useState } from 'react';\n\nvar WriteModal = function WriteModal(props, session) {\n  _s();\n\n  console.log('라이트 세션확인', props);\n\n  var _useState = useState(props.title),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(props.note),\n      note = _useState2[0],\n      setNote = _useState2[1];\n\n  var _useState3 = useState(props.category),\n      category = _useState3[0],\n      setCategory = _useState3[1];\n\n  var _useState4 = useState(props.facility),\n      facility = _useState4[0],\n      setFacility = _useState4[1];\n\n  function write(_x, _x2) {\n    return _write.apply(this, arguments);\n  }\n\n  function _write() {\n    _write = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e, _ref) {\n      var bid, title, userid, content, category, facility, dt;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              bid = _ref.bid, title = _ref.title, userid = _ref.userid, content = _ref.content, category = _ref.category, facility = _ref.facility;\n              e.preventDefault();\n\n              if (!(category == undefined || facility == undefined)) {\n                _context.next = 6;\n                break;\n              }\n\n              alert('카테고리 및 운동장소를 선택해주세요!');\n              _context.next = 23;\n              break;\n\n            case 6:\n              if (!(title == undefined || content == undefined)) {\n                _context.next = 10;\n                break;\n              }\n\n              alert('제목 및 컨텐츠를 입력해주세요!');\n              _context.next = 23;\n              break;\n\n            case 10:\n              dt = Post({\n                bid: bid,\n                title: title,\n                userid: userid,\n                content: content,\n                category: category,\n                facility: facility\n              }, '/board/write').then(function (res) {\n                return res;\n              });\n              props.setLgShow(false);\n              _context.t0 = bid !== undefined;\n\n              if (!_context.t0) {\n                _context.next = 18;\n                break;\n              }\n\n              _context.next = 16;\n              return dt;\n\n            case 16:\n              _context.t1 = _context.sent.cnt;\n              _context.t0 = _context.t1 === 1;\n\n            case 18:\n              if (!_context.t0) {\n                _context.next = 22;\n                break;\n              }\n\n              location.href = \"http://localhost:3000/board/boardview?bid=\".concat(bid);\n              _context.next = 23;\n              break;\n\n            case 22:\n              location.href = \"http://localhost:3000/board/boardlist\";\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _write.apply(this, arguments);\n  }\n\n  return __jsx(Modal, {\n    lgShow: props.lgShow,\n    setLgShow: props.setLgShow,\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, __jsx(Form, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 14\n    }\n  }, __jsx(FloatingLabel, {\n    controlId: \"title\",\n    label: \"\\uC81C\\uBAA9\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Control, {\n    className: \"mt-2\",\n    type: \"text\",\n    placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    value: title,\n    onChange: function onChange(e) {\n      return handleInput(setTitle, e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  })), __jsx(FloatingLabel, {\n    controlId: \"writer\",\n    label: \"\\uC791\\uC131\\uC790\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Control, {\n    className: \"mt-2 mb-2\",\n    type: \"text\",\n    value: session.name,\n    readOnly: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: \"d-flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, __jsx(Selection, {\n    title: \"\\uB9D0\\uBA38\\uB9AC\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\",\n    cat: ['community', 'review'],\n    change: setCategory,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }), __jsx(Selection, {\n    title: \"\\uC704\\uCE58\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\",\n    cat: ['부천종합운동장', '경기생활체육시설'],\n    change: setFacility,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  })), __jsx(FloatingLabel, {\n    controlId: \"textarea\",\n    label: \"\\uC0C1\\uB300\\uB97C \\uBC30\\uB824\\uD574\\uC8FC\\uC138\\uC694!\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Control, {\n    className: \"mt-2\",\n    as: \"textarea\",\n    placeholder: \"Leave a comment here\",\n    style: {\n      height: '250px'\n    },\n    value: note,\n    onChange: function onChange(e) {\n      return handleInput(setNote, e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  })), __jsx(Form.Group, {\n    controlId: \"formFileMultiple\",\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Control, {\n    className: \"mt-2\",\n    type: \"file\",\n    accept: \".gif, .jpg, .png\",\n    multiple: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: \"btns d-flex justify-content-end\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    type: \"reset\",\n    variant: \"secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, \"\\uB2E4\\uC2DC\\uC4F0\\uAE30\"), __jsx(Button, {\n    type: \"submit\",\n    variant: \"success\",\n    className: \"ms-2\",\n    onClick: function onClick(e) {\n      return write(e, {\n        title: title,\n        userid: 2,\n        content: note,\n        category: category,\n        facility: facility,\n        bid: props.bid\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, props.title ? '수정하기' : '글 올리기'))));\n};\n\n_s(WriteModal, \"JCI7gSM8ywCPCa+rZB+w0xHucBw=\");\n\n_c = WriteModal;\nexport default WriteModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"WriteModal\");","map":{"version":3,"sources":["C:/Users/fullstack/Desktop/TeamWorks/WAKAUT/next/pages/board/write_modal.js"],"names":["Modal","Form","FloatingLabel","Button","Selection","Post","handleInput","useState","WriteModal","props","session","console","log","title","setTitle","note","setNote","category","setCategory","facility","setFacility","write","e","bid","userid","content","preventDefault","undefined","alert","dt","then","res","setLgShow","cnt","location","href","lgShow","name","height"],"mappings":"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","sourcesContent":["import Modal from '../../components/modal';\r\nimport {Form,FloatingLabel,Button} from 'react-bootstrap'; \r\nimport Selection from '../../components/selection';\r\nimport {Post,handleInput} from '../feutils';\r\nimport { useState } from 'react';\r\n\r\n\r\nconst WriteModal=(props,session)=>{\r\n    console.log('라이트 세션확인',props);\r\n    const [title,setTitle] = useState(props.title);\r\n    const [note,setNote] = useState(props.note);\r\n    const [category,setCategory] =  useState(props.category);\r\n    const [facility,setFacility] =  useState(props.facility);\r\n    \r\n    async function write(e,{bid,title,userid,content,category,facility}){\r\n        e.preventDefault();\r\n        if(category== undefined || facility == undefined){\r\n            alert('카테고리 및 운동장소를 선택해주세요!');\r\n        }else if( title == undefined || content == undefined){\r\n            alert('제목 및 컨텐츠를 입력해주세요!');\r\n\r\n        }else{\r\n            let dt = Post({bid,title,userid,content,category,facility},'/board/write').then(res=>res);\r\n            props.setLgShow(false);\r\n            if (bid !== undefined && (await dt).cnt === 1) {\r\n                location.href=`http://localhost:3000/board/boardview?bid=${bid}`;\r\n            }else{\r\n                location.href=`http://localhost:3000/board/boardlist`\r\n            }\r\n        }\r\n    }\r\n\r\n    return(\r\n        <Modal lgShow={props.lgShow} setLgShow={props.setLgShow} size='lg'>\r\n             <Form>\r\n                <FloatingLabel controlId=\"title\" label=\"제목\">\r\n                    <Form.Control className='mt-2' type=\"text\" placeholder=\"제목을 입력해주세요\" value={title} onChange={(e)=>handleInput(setTitle,e)}/>\r\n                </FloatingLabel>\r\n                <FloatingLabel controlId=\"writer\" label=\"작성자\">\r\n                    <Form.Control  className='mt-2 mb-2' type=\"text\" value={session.name} readOnly/>\r\n                </FloatingLabel>\r\n                <div className='d-flex'>\r\n                    <Selection title=\"말머리를 선택하세요\" cat={['community','review']} change={setCategory}/>\r\n                    <Selection title=\"위치를 선택하세요\" cat={['부천종합운동장','경기생활체육시설']} change={setFacility}/>\r\n                </div>\r\n                <FloatingLabel controlId=\"textarea\" label=\"상대를 배려해주세요!\">\r\n                    <Form.Control className='mt-2'\r\n                    as=\"textarea\"\r\n                    placeholder=\"Leave a comment here\"\r\n                    style={{ height: '250px' }}\r\n                    value={note}  onChange={(e)=>handleInput(setNote,e)}/>\r\n                </FloatingLabel>\r\n                <Form.Group controlId=\"formFileMultiple\" className=\"mb-3\">\r\n                    <Form.Control  className='mt-2' type=\"file\" accept=\".gif, .jpg, .png\" multiple />\r\n                </Form.Group>\r\n                <div className='btns d-flex justify-content-end'>\r\n                    <Button type=\"reset\" variant=\"secondary\">다시쓰기</Button>\r\n                    <Button type=\"submit\" variant=\"success\" className='ms-2' onClick={(e)=>write(e,{title:title,userid:2,content:note,category:category,facility:facility,bid:props.bid})}>{(props.title)?'수정하기':'글 올리기'}</Button>\r\n                </div>   \r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default WriteModal;\r\n"]},"metadata":{},"sourceType":"module"}