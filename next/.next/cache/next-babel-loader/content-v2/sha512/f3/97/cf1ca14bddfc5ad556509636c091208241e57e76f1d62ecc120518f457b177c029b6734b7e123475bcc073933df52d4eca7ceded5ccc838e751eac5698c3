{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Modal from '../../components/modal';\nimport { Form, FloatingLabel, Button } from 'react-bootstrap';\nimport Selection from '../../components/selection';\nimport { Post, handleInput } from '../../components/feutils';\nimport { useState } from 'react';\n\nconst WriteModal = props => {\n  const {\n    0: title,\n    1: setTitle\n  } = useState(props.title);\n  const {\n    0: note,\n    1: setNote\n  } = useState(props.note);\n  const {\n    0: category,\n    1: setCategory\n  } = useState(props.category);\n  const {\n    0: facility,\n    1: setFacility\n  } = useState(props.facility);\n\n  async function write(e, {\n    bid,\n    title,\n    userid,\n    content,\n    category,\n    facility\n  }) {\n    e.preventDefault();\n\n    if (category == undefined || facility == undefined) {\n      alert('카테고리 및 운동장소를 선택해주세요!');\n    } else if (title == undefined || content == undefined) {\n      alert('제목 및 컨텐츠를 입력해주세요!');\n    } else {\n      let dt = Post({\n        bid,\n        title,\n        userid,\n        content,\n        category,\n        facility\n      }, '/board/write').then(res => res);\n      props.setLgShow(false);\n      console.log(await dt);\n\n      if (bid !== undefined && (await dt).cnt === 1) {\n        location.href = `http://localhost:3000/board/boardview?bid=${bid}`;\n      } else {\n        location.href = `http://localhost:3000/board/boardlist`;\n      }\n    }\n  }\n\n  return __jsx(Modal, {\n    lgShow: props.lgShow,\n    setLgShow: props.setLgShow,\n    size: \"lg\"\n  }, __jsx(Form, null, __jsx(FloatingLabel, {\n    controlId: \"title\",\n    label: \"\\uC81C\\uBAA9\"\n  }, __jsx(Form.Control, {\n    className: \"mt-2\",\n    type: \"text\",\n    placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    value: title,\n    onChange: e => handleInput(setTitle, e)\n  })), __jsx(FloatingLabel, {\n    controlId: \"writer\",\n    label: \"\\uC791\\uC131\\uC790\"\n  }, __jsx(Form.Control, {\n    className: \"mt-2 mb-2\",\n    type: \"text\",\n    value: props.sename,\n    readOnly: true\n  })), __jsx(\"div\", {\n    className: \"d-flex\"\n  }, __jsx(Selection, {\n    title: \"\\uB9D0\\uBA38\\uB9AC\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\",\n    cat: ['community', 'review'],\n    change: setCategory\n  }), __jsx(Selection, {\n    title: \"\\uC704\\uCE58\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\",\n    cat: props.atlists,\n    change: setFacility\n  })), __jsx(FloatingLabel, {\n    controlId: \"textarea\",\n    label: \"\\uC0C1\\uB300\\uB97C \\uBC30\\uB824\\uD574\\uC8FC\\uC138\\uC694!\"\n  }, __jsx(Form.Control, {\n    className: \"mt-2\",\n    as: \"textarea\",\n    placeholder: \"Leave a comment here\",\n    style: {\n      height: '250px'\n    },\n    value: note,\n    onChange: e => handleInput(setNote, e)\n  })), __jsx(Form.Group, {\n    controlId: \"formFileMultiple\",\n    className: \"mb-3\"\n  }, __jsx(Form.Control, {\n    className: \"mt-2\",\n    type: \"file\",\n    accept: \".gif, .jpg, .png\",\n    multiple: true\n  })), __jsx(\"div\", {\n    className: \"btns d-flex justify-content-end\"\n  }, __jsx(Button, {\n    type: \"reset\",\n    variant: \"secondary\"\n  }, \"\\uB2E4\\uC2DC\\uC4F0\\uAE30\"), __jsx(Button, {\n    type: \"submit\",\n    variant: \"success\",\n    className: \"ms-2\",\n    onClick: e => write(e, {\n      title: title,\n      userid: props.seid,\n      content: note,\n      category: category,\n      facility: facility,\n      bid: props.bid\n    })\n  }, props.title ? '수정하기' : '글 올리기'))));\n};\n\nexport default WriteModal;","map":null,"metadata":{},"sourceType":"module"}